"use strict";(self.webpackChunkTurnosFrontEnd=self.webpackChunkTurnosFrontEnd||[]).push([[42],{6042:(ve,P,m)=>{m.r(P),m.d(P,{PacientesModule:()=>be});var u=m(6895),_=m(3060),e=m(4650),b=m(137),l=m(4006),d=m(3546),C=m(7392),p=m(9549),h=m(4859),x=m(4144),v=m(4604),F=m(2080);function O(i,o){1&i&&e._UZ(0,"app-loading")}function N(i,o){1&i&&(e.TgZ(0,"div",14),e._uU(1,"No tienes pacientes creados a\xfan"),e.qZA())}function q(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-card",15),e.NdJ("click",function(){const r=e.CHM(t).$implicit,c=e.oxw(2);return e.KtG(c.pacienteDetail(r))}),e.TgZ(1,"mat-card-header")(2,"mat-card-title-group")(3,"h2",5),e._uU(4),e.qZA(),e._UZ(5,"img",16),e.TgZ(6,"p",17),e._uU(7),e.qZA(),e.TgZ(8,"p",17),e._uU(9),e.qZA(),e.TgZ(10,"p",17),e._uU(11),e.qZA()()(),e._UZ(12,"mat-card-content"),e.qZA()}if(2&i){const t=o.$implicit;e.xp6(4),e.Oqu(t.nombre),e.xp6(3),e.hij("Mail : ",t.mail,""),e.xp6(2),e.hij("Tel : ",t.tel,""),e.xp6(2),e.hij("Dir : ",t.direccion,"")}}function I(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2",5),e._uU(4,"Pacientes"),e.qZA(),e._UZ(5,"div",6),e.TgZ(6,"button",7)(7,"mat-icon"),e._uU(8,"add"),e.qZA()()(),e.TgZ(9,"div",8)(10,"mat-form-field",9)(11,"mat-label"),e._uU(12,"Buscar"),e.qZA(),e.TgZ(13,"input",10),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw();return e.KtG(r.searchText=a)}),e.qZA(),e.TgZ(14,"mat-icon",11),e._uU(15,"search"),e.qZA()()()(),e.YNc(16,N,2,0,"div",12),e.YNc(17,q,13,4,"mat-card",13),e.ALo(18,"search"),e.qZA()}if(2&i){const t=e.oxw();e.xp6(13),e.Q6J("ngModel",t.searchText),e.xp6(3),e.Q6J("ngIf",0==t.pacientes.length),e.xp6(1),e.Q6J("ngForOf",e.xi3(18,3,t.pacientes,t.searchText))}}let M=(()=>{class i{constructor(t,n){this.router=t,this.pacienteService=n,this.animation=!1,this.searchText=""}ngOnInit(){this.animation=!0,this.pacienteService.getPacientes(localStorage.getItem("user")).subscribe(t=>{this.pacientes=t,this.animation=!1})}pacienteDetail(t){this.router.navigate([`pacientes/details/${t.id}`])}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.F0),e.Y36(b.d))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-pacientes"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","container",4,"ngIf"],[1,"container"],[1,"header"],[1,"title"],["mat-card-title",""],[1,"spacer"],["mat-mini-fab","","routerLink","/pacientes/create","color","primary"],[1,"search"],["appearance","outline"],["type","text","matInput","","placeholder","Nombre, DNI, Direccion, etc...",3,"ngModel","ngModelChange"],["matSuffix",""],["class","not-found",4,"ngIf"],[3,"click",4,"ngFor","ngForOf"],[1,"not-found"],[3,"click"],["mat-card-sm-image","","src","https://i.imgur.com/5RPafRS.png","alt","pacient",1,"paciente-img"],["mat-card-subtitle",""]],template:function(t,n){1&t&&(e.YNc(0,O,1,0,"app-loading",0),e.YNc(1,I,19,6,"div",1)),2&t&&(e.Q6J("ngIf",n.animation),e.xp6(1),e.Q6J("ngIf",!n.animation))},dependencies:[u.sg,u.O5,_.rH,l.Fj,l.JJ,l.On,d.a8,d.dn,d.dk,d.vP,d.$j,d.n5,d.C1,C.Hw,p.KE,p.hX,p.R9,h.nh,x.Nt,v.N,F.C],styles:["mat-card[_ngcontent-%COMP%]{border-radius:15px;max-width:600px;margin-top:15px;background-color:#ebebff;width:100%}mat-card[_ngcontent-%COMP%]:hover{cursor:pointer}.container[_ngcontent-%COMP%]{display:flex;width:100%;min-width:300px;max-width:600px;flex-direction:column;align-items:center;margin-left:auto;margin-right:auto}.header[_ngcontent-%COMP%]{margin-top:15px;display:flex;flex-direction:column;width:100%}.header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex}.header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:2em}.header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:15px}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.search[_ngcontent-%COMP%]{margin-top:15px;width:100%}.search[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}"]}),i})();var U=m(5107),A=m(1758),T=m(3595),Z=m(4385),S=m(3238);function w(i,o){1&i&&e._UZ(0,"app-loading")}function J(i,o){if(1&i&&(e.TgZ(0,"div")(1,"p",5),e._uU(2),e.qZA()()),2&i){const t=o.$implicit;e.xp6(2),e.lnq("",t.nombre," : ",t.plan.nombre," nro: ",t.afiliado,"")}}function y(i,o){1&i&&(e.TgZ(0,"button",11),e._uU(1,"Volver"),e.qZA())}function Q(i,o){1&i&&e._UZ(0,"app-loading")}function Y(i,o){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function D(i,o){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function E(i,o){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(3);e.xp6(1),e.Oqu(t.getErrorMessage())}}function j(i,o){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function k(i,o){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function G(i,o){if(1&i&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.nombre," ")}}function H(i,o){if(1&i&&(e.TgZ(0,"mat-form-field",15)(1,"mat-label"),e._uU(2,"Afiliado"),e.qZA(),e._UZ(3,"input",29),e.qZA()),2&i){const t=e.oxw().index,n=e.oxw(4);e.xp6(3),e.Q6J("value",n.selectedObrasSociales[t].afiliado)}}function K(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"mat-card")(2,"mat-card-header")(3,"h4"),e._uU(4),e.qZA()(),e.TgZ(5,"mat-card-content")(6,"mat-form-field",15)(7,"mat-label"),e._uU(8),e.qZA(),e.TgZ(9,"mat-select",27),e.NdJ("valueChange",function(a){const r=e.CHM(t),c=r.$implicit,s=r.index,f=e.oxw(4);return e.KtG(f.onSelectedObraSocial(a,c,s))}),e.YNc(10,G,2,2,"mat-option",25),e.qZA(),e.TgZ(11,"mat-hint"),e._uU(12),e.qZA()(),e.YNc(13,H,4,1,"mat-form-field",26),e.qZA()()()}if(2&i){const t=o.$implicit,n=o.index,a=e.oxw(4);e.xp6(4),e.Oqu(t.nombre),e.xp6(4),e.Oqu(a.defaultPlanes[n].nombre),e.xp6(2),e.Q6J("ngForOf",t.planes),e.xp6(2),e.hij("Plan actual: ",a.defaultPlanes[n].nombre,""),e.xp6(1),e.Q6J("ngIf",a.editedAfiliados[n])}}function B(i,o){if(1&i&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.nombre," ")}}function $(i,o){if(1&i&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.nombre," ")}}function L(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field",15)(1,"mat-label"),e._uU(2,"Seleccion\xe1 una obra Social"),e.qZA(),e.TgZ(3,"mat-select",24),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw(4);return e.KtG(r.NewPlanSelected=a)})("valueChange",function(a){e.CHM(t);const r=e.oxw(4);return e.KtG(r.onSelectedNewPlan(a))}),e.YNc(4,$,2,2,"mat-option",25),e.qZA()()}if(2&i){const t=e.oxw(4);e.xp6(3),e.Q6J("ngModel",t.NewPlanSelected),e.xp6(1),e.Q6J("ngForOf",t.NewObraSocialSelected.planes)}}function z(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field",15)(1,"mat-label"),e._uU(2,"Afiliado"),e.qZA(),e.TgZ(3,"input",30),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw(4);return e.KtG(r.newAfiliado=a)}),e.qZA()()}if(2&i){const t=e.oxw(4);e.xp6(3),e.Q6J("ngModel",t.newAfiliado)}}function R(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",23),e.YNc(1,K,14,5,"div",6),e.TgZ(2,"mat-card")(3,"mat-card-header")(4,"h4"),e._uU(5,"Agregar Obra Social"),e.qZA()(),e.TgZ(6,"mat-card-content")(7,"mat-form-field",15)(8,"mat-label"),e._uU(9,"Seleccion\xe1 una obra Social"),e.qZA(),e.TgZ(10,"mat-select",24),e.NdJ("ngModelChange",function(a){e.CHM(t);const r=e.oxw(3);return e.KtG(r.NewObraSocialSelected=a)})("valueChange",function(a){e.CHM(t);const r=e.oxw(3);return e.KtG(r.onSelectedNewObraSocial(a))}),e.YNc(11,B,2,2,"mat-option",25),e.qZA()(),e.YNc(12,L,5,2,"mat-form-field",26),e.YNc(13,z,4,1,"mat-form-field",26),e.qZA()()()}if(2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t.obras),e.xp6(9),e.Q6J("ngModel",t.NewObraSocialSelected),e.xp6(1),e.Q6J("ngForOf",t.obrasSociales),e.xp6(1),e.Q6J("ngIf",!t.isNewObraSocialSelected),e.xp6(1),e.Q6J("ngIf",!t.isNewPlanSelected)}}function X(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"h2",13),e._uU(2,"Editar Paciente"),e.qZA(),e.TgZ(3,"form",14),e.NdJ("submit",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.updatePaciente())}),e.TgZ(4,"mat-form-field",15)(5,"mat-label"),e._uU(6,"Nombre"),e.qZA(),e._UZ(7,"input",16),e.YNc(8,Y,2,0,"mat-error",0),e.qZA(),e.TgZ(9,"mat-form-field",15)(10,"mat-label"),e._uU(11,"DNI"),e.qZA(),e._UZ(12,"input",17),e.YNc(13,D,2,0,"mat-error",0),e.qZA(),e.TgZ(14,"mat-form-field",15)(15,"mat-label"),e._uU(16,"E-mail"),e.qZA(),e._UZ(17,"input",18),e.YNc(18,E,2,1,"mat-error",0),e.qZA(),e.TgZ(19,"mat-form-field",15)(20,"mat-label"),e._uU(21,"Tel\xe9fono"),e.qZA(),e._UZ(22,"input",19),e.YNc(23,j,2,0,"mat-error",0),e.qZA(),e.TgZ(24,"mat-form-field",15)(25,"mat-label"),e._uU(26,"Direcci\xf3n"),e.qZA(),e._UZ(27,"input",20),e.YNc(28,k,2,0,"mat-error",0),e.qZA()(),e.YNc(29,R,14,5,"div",21),e.TgZ(30,"button",22),e.NdJ("click",function(){e.CHM(t);const a=e.oxw(2);return e.KtG(a.updatePaciente())}),e._uU(31,"Crear Paciente"),e.qZA()()}if(2&i){const t=e.oxw(2);let n,a,r,c,s;e.xp6(3),e.Q6J("formGroup",t.pacienteForm),e.xp6(5),e.Q6J("ngIf",(null==(n=t.pacienteForm.get("nombre"))?null:n.invalid)&&((null==(n=t.pacienteForm.get("nombre"))?null:n.dirty)||(null==(n=t.pacienteForm.get("nombre"))?null:n.touched)||t.isSubmitted)),e.xp6(5),e.Q6J("ngIf",(null==(a=t.pacienteForm.get("dni"))?null:a.invalid)&&((null==(a=t.pacienteForm.get("dni"))?null:a.dirty)||(null==(a=t.pacienteForm.get("dni"))?null:a.touched)||t.isSubmitted)),e.xp6(5),e.Q6J("ngIf",(null==(r=t.pacienteForm.get("mail"))?null:r.invalid)&&((null==(r=t.pacienteForm.get("mail"))?null:r.dirty)||(null==(r=t.pacienteForm.get("mail"))?null:r.touched)||t.isSubmitted)),e.xp6(5),e.Q6J("ngIf",(null==(c=t.pacienteForm.get("tel"))?null:c.invalid)&&((null==(c=t.pacienteForm.get("tel"))?null:c.dirty)||(null==(c=t.pacienteForm.get("tel"))?null:c.touched)||t.isSubmitted)),e.xp6(5),e.Q6J("ngIf",(null==(s=t.pacienteForm.get("direccion"))?null:s.invalid)&&((null==(s=t.pacienteForm.get("direccion"))?null:s.dirty)||(null==(s=t.pacienteForm.get("direccion"))?null:s.touched)||t.isSubmitted)),e.xp6(1),e.Q6J("ngIf",t.defaultPlanes)}}function V(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title-group")(4,"h2",3),e._uU(5),e.qZA(),e._UZ(6,"img",4),e.TgZ(7,"p",5),e._uU(8),e.qZA(),e.TgZ(9,"p",5),e._uU(10),e.qZA(),e.TgZ(11,"p",5),e._uU(12),e.qZA(),e.TgZ(13,"p",5),e._uU(14),e.qZA()()(),e.TgZ(15,"mat-card-content"),e.YNc(16,J,3,3,"div",6),e.qZA()(),e.TgZ(17,"div",7)(18,"button",8),e.NdJ("click",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.toggleForm())}),e._uU(19),e.qZA(),e.YNc(20,y,2,0,"button",9),e.qZA(),e.YNc(21,Q,1,0,"app-loading",0),e.YNc(22,X,32,7,"div",10),e.qZA()}if(2&i){const t=e.oxw();e.xp6(5),e.Oqu(t.paciente.nombre),e.xp6(3),e.hij("DNI : ",t.paciente.dni,""),e.xp6(2),e.hij("Email : ",t.paciente.mail,""),e.xp6(2),e.hij("Telefono : ",t.paciente.tel,""),e.xp6(2),e.hij("Direccion : ",t.paciente.direccion,""),e.xp6(2),e.Q6J("ngForOf",t.paciente.obrasSociales),e.xp6(2),e.Q6J("color",t.showButtons?"primary":"warn"),e.xp6(1),e.Oqu(t.showButtons?"Editar Paciente":"Cancelar"),e.xp6(1),e.Q6J("ngIf",t.showButtons),e.xp6(1),e.Q6J("ngIf",t.sendAnimation),e.xp6(1),e.Q6J("ngIf",t.showForm&&!t.sendAnimation)}}function ee(i,o){1&i&&e._UZ(0,"app-loading")}function te(i,o){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function ie(i,o){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function ne(i,o){if(1&i&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.getErrorMessage())}}function ae(i,o){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function oe(i,o){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function re(i,o){if(1&i&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nombre," ")}}function le(i,o){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function ce(i,o){if(1&i&&(e.TgZ(0,"mat-form-field",5)(1,"mat-label",6),e._uU(2,"Obra Social"),e.qZA(),e.TgZ(3,"mat-select",15),e.YNc(4,re,2,2,"mat-option",16),e.qZA(),e.YNc(5,le,2,0,"mat-error",0),e.qZA()),2&i){const t=e.oxw(2);let n;e.xp6(4),e.Q6J("ngForOf",t.obrasSociales),e.xp6(1),e.Q6J("ngIf",(null==(n=t.pacienteForm.get("idObraSocial"))?null:n.invalid)&&((null==(n=t.pacienteForm.get("idObraSocial"))?null:n.dirty)||(null==(n=t.pacienteForm.get("idObraSocial"))?null:n.touched)||t.isSubmitted))}}function me(i,o){if(1&i&&(e.TgZ(0,"mat-option",17),e._uU(1),e.qZA()),2&i){const t=o.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.nombre," ")}}function se(i,o){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function de(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field",5)(1,"mat-label",6),e._uU(2,"Plan"),e.qZA(),e.TgZ(3,"mat-select",18),e.NdJ("valueChange",function(){e.CHM(t);const a=e.oxw(2);let r;return e.KtG(a.isParticularPlan(null==(r=a.pacienteForm.get("idPlan"))?null:r.value))}),e.YNc(4,me,2,2,"mat-option",16),e.qZA(),e.YNc(5,se,2,0,"mat-error",0),e.qZA()}if(2&i){const t=e.oxw(2);let n;e.xp6(4),e.Q6J("ngForOf",t.planes),e.xp6(1),e.Q6J("ngIf",(null==(n=t.pacienteForm.get("idPlan"))?null:n.invalid)&&((null==(n=t.pacienteForm.get("idPlan"))?null:n.dirty)||(null==(n=t.pacienteForm.get("idPlan"))?null:n.touched)||t.isSubmitted))}}function pe(i,o){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Este campo es obligatorio"),e.qZA())}function _e(i,o){if(1&i){const t=e.EpF();e.TgZ(0,"div",2)(1,"h2",3),e._uU(2,"Crear Paciente"),e.qZA(),e.TgZ(3,"form",4),e.NdJ("submit",function(){e.CHM(t);const a=e.oxw();return e.KtG(a.createPaciente())}),e.TgZ(4,"mat-form-field",5)(5,"mat-label",6),e._uU(6,"Nombre"),e.qZA(),e._UZ(7,"input",7),e.YNc(8,te,2,0,"mat-error",0),e.qZA(),e.TgZ(9,"mat-form-field",5)(10,"mat-label",6),e._uU(11,"DNI"),e.qZA(),e._UZ(12,"input",8),e.YNc(13,ie,2,0,"mat-error",0),e.qZA(),e.TgZ(14,"mat-form-field",5)(15,"mat-label",6),e._uU(16,"E-mail"),e.qZA(),e._UZ(17,"input",9),e.YNc(18,ne,2,1,"mat-error",0),e.qZA(),e.TgZ(19,"mat-form-field",5)(20,"mat-label",6),e._uU(21,"Tel\xe9fono"),e.qZA(),e._UZ(22,"input",10),e.YNc(23,ae,2,0,"mat-error",0),e.qZA(),e.TgZ(24,"mat-form-field",5)(25,"mat-label",6),e._uU(26,"Direcci\xf3n"),e.qZA(),e._UZ(27,"input",11),e.YNc(28,oe,2,0,"mat-error",0),e.qZA(),e.YNc(29,ce,6,2,"mat-form-field",12),e.YNc(30,de,6,2,"mat-form-field",12),e.TgZ(31,"mat-form-field",5)(32,"mat-label",6),e._uU(33,"Afiliado"),e.qZA(),e._UZ(34,"input",13),e.YNc(35,pe,2,0,"mat-error",0),e.qZA(),e.TgZ(36,"button",14),e._uU(37,"Crear Paciente"),e.qZA()()()}if(2&i){const t=e.oxw();let n,a,r,c,s,f,g;e.xp6(3),e.Q6J("formGroup",t.pacienteForm),e.xp6(5),e.Q6J("ngIf",(null==(n=t.pacienteForm.get("nombre"))?null:n.invalid)&&((null==(n=t.pacienteForm.get("nombre"))?null:n.dirty)||(null==(n=t.pacienteForm.get("nombre"))?null:n.touched)||t.isSubmitted)),e.xp6(5),e.Q6J("ngIf",(null==(a=t.pacienteForm.get("dni"))?null:a.invalid)&&((null==(a=t.pacienteForm.get("dni"))?null:a.dirty)||(null==(a=t.pacienteForm.get("dni"))?null:a.touched)||t.isSubmitted)),e.xp6(5),e.Q6J("ngIf",(null==(r=t.pacienteForm.get("mail"))?null:r.invalid)&&((null==(r=t.pacienteForm.get("mail"))?null:r.dirty)||(null==(r=t.pacienteForm.get("mail"))?null:r.touched)||t.isSubmitted)),e.xp6(5),e.Q6J("ngIf",(null==(c=t.pacienteForm.get("tel"))?null:c.invalid)&&((null==(c=t.pacienteForm.get("tel"))?null:c.dirty)||(null==(c=t.pacienteForm.get("tel"))?null:c.touched)||t.isSubmitted)),e.xp6(5),e.Q6J("ngIf",(null==(s=t.pacienteForm.get("direccion"))?null:s.invalid)&&((null==(s=t.pacienteForm.get("direccion"))?null:s.dirty)||(null==(s=t.pacienteForm.get("direccion"))?null:s.touched)||t.isSubmitted)),e.xp6(1),e.Q6J("ngIf",null==(f=t.pacienteForm.get("dni"))?null:f.value),e.xp6(1),e.Q6J("ngIf",t.planes),e.xp6(5),e.Q6J("ngIf",(null==(g=t.pacienteForm.get("afiliado"))?null:g.invalid)&&((null==(g=t.pacienteForm.get("afiliado"))?null:g.dirty)||(null==(g=t.pacienteForm.get("afiliado"))?null:g.touched)||t.isSubmitted)),e.xp6(1),e.Q6J("disabled",t.pacienteForm.invalid)}}const fe=[{path:"",canActivateChild:[U.a],children:[{path:"",component:M},{path:"details/:id",component:(()=>{class i{constructor(t,n,a,r,c,s){this.router=t,this.route=n,this.pacienteService=a,this.fb=r,this.obraSocialService=c,this.notiService=s,this.animation=!1,this.sendAnimation=!1,this.showForm=!1,this.showButtons=!0,this.editedAfiliados=[],this.isObraSocialSelected=!0,this.isNewPlanSelected=!0,this.isNewObraSocialSelected=!0,this.selectedObrasSociales=[],this.obras=[],this.defaultPlanes=[],this.isSubmitted=!1}ngOnInit(){this.animation=!0,this.route.paramMap.subscribe(t=>{const{params:n}=t;this.loadPaciente(n.id)})}loadPaciente(t){this.pacienteService.getPacienteById(t).subscribe(n=>{this.paciente=n,this.pacienteForm=this.fb.group({userId:[localStorage.getItem("user"),l.kI.required],id:[this.paciente.id,l.kI.required],nombre:[this.paciente.nombre,l.kI.required],dni:[this.paciente.dni,l.kI.required],mail:[this.paciente.mail,[l.kI.required,l.kI.email]],tel:[this.paciente.tel,l.kI.required],direccion:[this.paciente.direccion,l.kI.required],obrasSociales:this.fb.array([])}),this.obraSocialService.getObrasSociales(localStorage.getItem("user")).subscribe(a=>{this.obras=a.filter(r=>"Particular"!==r.nombre&&this.paciente.obrasSociales.some(c=>c.nombre===r.nombre)),this.obrasSociales=a.filter(r=>{const c="Particular"===r.nombre,s=this.paciente.obrasSociales.some(f=>f.nombre===r.nombre);return!c&&!s});for(let r of this.obras){const c=this.paciente.obrasSociales.find(s=>s.nombre===r.nombre);null!=c&&this.defaultPlanes.push(c.plan)}this.toLoadObrasSociales=this.pacienteForm.get("obrasSociales")}),this.animation=!1})}updatePaciente(){if(this.sendAnimation=!0,this.selectedObrasSociales.length>0)for(let t of this.selectedObrasSociales){const n=this.fb.group({idObraSocial:t.obraSocial,idPlan:t.plan,afiliado:t.afiliado});this.toLoadObrasSociales.push(n)}if(null!=this.NewObraSocialSelected&&null!=this.NewPlanSelected&&null!=this.newAfiliado){const t=this.fb.group({idObraSocial:this.NewObraSocialSelected.id,idPlan:this.NewPlanSelected.id,afiliado:this.newAfiliado});this.toLoadObrasSociales.push(t)}this.pacienteService.createPaciente(this.pacienteForm.value).subscribe(t=>{this.sendAnimation=!1,this.notiService.OkNotification("Paciente actualizado con \xe9xito!!"),this.router.navigate(["pacientes"])},t=>{this.sendAnimation=!1,this.notiService.ErrorNotification("Ups algo sali\xf3 mal"),this.router.navigate(["pacientes"])})}getErrorMessage(){return this.pacienteForm.get("mail")?.hasError("required")?"Este campo es obligatorio":this.pacienteForm.get("mail")?.hasError("email")?"El mail que ingresaste no es v\xe1lido":""}onSelectedObraSocial(t,n,a){this.isObraSocialSelected=!1,this.selectedObrasSociales[a]={obraSocial:n.id,plan:t.id,afiliado:this.paciente.obrasSociales[a].afiliado},this.editedAfiliados[a]=!0}getSelectedPlan(t){const n=this.paciente.obrasSociales.find(a=>a.nombre===t.nombre);return n?n.plan:null}onSelectedNewObraSocial(t){this.isNewObraSocialSelected=!1}onSelectedNewPlan(t){this.isNewPlanSelected=!1}toggleForm(){this.showForm=!this.showForm,this.showButtons=!this.showButtons}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.F0),e.Y36(_.gz),e.Y36(b.d),e.Y36(l.qu),e.Y36(A.P),e.Y36(T.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-paciente-details"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","details-container",4,"ngIf"],[1,"details-container"],["mat-card-title",""],["mat-card-sm-image","","src","https://i.imgur.com/5RPafRS.png","alt","pacient",1,"paciente-img"],["mat-card-subtitle",""],[4,"ngFor","ngForOf"],[1,"nav-buttons"],["mat-raised-button","",3,"color","click"],["mat-raised-button","","color","warn","routerLink","/medicos",4,"ngIf"],["class","form",4,"ngIf"],["mat-raised-button","","color","warn","routerLink","/medicos"],[1,"form"],["mat-card-title","","align","center"],[1,"form-container",3,"formGroup","submit"],["appearance","outline"],["type","text","matInput","","formControlName","nombre","placeholder","Nombre completo"],["type","text","matInput","","formControlName","dni","placeholder","DNI"],["type","text","matInput","","formControlName","mail","placeholder","ejemplo@gmail.com"],["type","text","matInput","","formControlName","tel","placeholder","N\xfamero"],["type","text","matInput","","formControlName","direccion","placeholder","Calle y n\xfamero"],["class","obras-sociales",4,"ngIf"],["color","accent","mat-raised-button","",1,"submit-btn",3,"click"],[1,"obras-sociales"],[3,"ngModel","ngModelChange","valueChange"],[3,"value",4,"ngFor","ngForOf"],["appearance","outline",4,"ngIf"],[3,"valueChange"],[3,"value"],["type","text","matInput","",3,"value"],["type","text","matInput","",3,"ngModel","ngModelChange"]],template:function(t,n){1&t&&(e.YNc(0,w,1,0,"app-loading",0),e.YNc(1,V,23,11,"div",1)),2&t&&(e.Q6J("ngIf",n.animation),e.xp6(1),e.Q6J("ngIf",n.paciente&&!n.animation))},dependencies:[u.sg,u.O5,_.rH,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,l.On,d.a8,d.dn,d.dk,d.vP,d.$j,d.n5,d.C1,p.KE,p.hX,p.bx,p.TO,Z.gD,S.ey,h.lW,x.Nt,v.N],styles:[".details-container[_ngcontent-%COMP%]{display:flex;width:100%;min-width:300px;max-width:600px;flex-direction:column;align-items:center;margin-left:auto;margin-right:auto}mat-card[_ngcontent-%COMP%]{width:100%;border-radius:15px;max-width:600px;margin-top:15px;background-color:#ebebff}mat-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:4px}mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]{margin-bottom:10px}.horarios[_ngcontent-%COMP%]{margin-top:10px}.submit-btn[_ngcontent-%COMP%]{width:90%;margin-top:15px;margin-left:10px;align-self:center}.form-container[_ngcontent-%COMP%]{align-self:center;width:90%;display:flex;flex-direction:column;gap:15px}.add-medico[_ngcontent-%COMP%]{display:flex;flex-direction:column}.title[_ngcontent-%COMP%]{margin-top:15px;align-self:center;font-size:1.5rem}.error[_ngcontent-%COMP%]{color:red}.horarios-form[_ngcontent-%COMP%]{width:90%;display:flex;flex-direction:column;align-self:center;gap:15px}.horarios-form[_ngcontent-%COMP%]   mat-card[_ngcontent-%COMP%]{width:100%}.horarios-form[_ngcontent-%COMP%]   mat-slider[_ngcontent-%COMP%]{width:60%}.horarios-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:25%}.spacer[_ngcontent-%COMP%]{flex:1 0 auto}.form[_ngcontent-%COMP%]{align-self:center;width:100%;display:flex;flex-direction:column;gap:15px;margin-top:15px}.nav-buttons[_ngcontent-%COMP%]{margin-top:15px;width:100%;display:flex;flex-direction:column;gap:15px}"]}),i})()},{path:"create",component:(()=>{class i{constructor(t,n,a,r,c){this.router=t,this.fb=n,this.pacienteService=a,this.obraSocialService=r,this.notiService=c,this.sendAnimation=!1,this.isSubmitted=!1,this.userId=localStorage.getItem("user"),this.pacienteForm=this.fb.group({userId:[localStorage.getItem("user"),l.kI.required],id:["0",l.kI.required],nombre:["",l.kI.required],dni:["",l.kI.required],mail:["",[l.kI.required,l.kI.email]],tel:["",l.kI.required],direccion:["",l.kI.required],idObraSocial:["",l.kI.required],idPlan:["",l.kI.required],afiliado:["",l.kI.required]})}ngOnInit(){this.sendAnimation=!0,this.obraSocialService.getObrasSociales(this.userId).subscribe(t=>{this.obrasSociales=t,this.pacienteForm.get("idObraSocial")?.valueChanges.subscribe(n=>{const a=this.obrasSociales.find(r=>r.id==n);a&&("Particular"==a.nombre?this.pacienteForm.get("afiliado")?.patchValue(this.pacienteForm.get("dni")?.value):this.pacienteForm.get("afiliado")?.patchValue("")),this.obraSocialService.getPlanesByObraSocial(n).subscribe(r=>{this.planes=r})})}),this.sendAnimation=!1}createPaciente(){if(this.pacienteForm.invalid)this.isSubmitted=!0;else{const t=this.pacienteForm.value;this.pacienteService.createPaciente({userId:t.userId,id:0,nombre:t.nombre,dni:t.dni,mail:t.mail,tel:t.tel,direccion:t.direccion,obrasSociales:[{idObraSocial:t.idObraSocial,idPlan:t.idPlan,afiliado:t.afiliado}]}).subscribe(a=>{this.sendAnimation=!1,this.notiService.OkNotification("Paciente creado con \xe9xito!!"),this.router.navigate(["pacientes"])},a=>{this.sendAnimation=!1,this.notiService.ErrorNotification("Ups algo sali\xf3 mal"),this.router.navigate(["pacientes"])}),this.router.navigate(["home"])}}getErrorMessage(){return this.pacienteForm.get("mail")?.hasError("required")?"Este campo es obligatorio":this.pacienteForm.get("mail")?.hasError("email")?"El mail que ingresaste no es v\xe1lido":""}isParticularPlan(t){console.log(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_.F0),e.Y36(l.qu),e.Y36(b.d),e.Y36(A.P),e.Y36(T.g))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-paciente"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","add-paciente",4,"ngIf"],[1,"add-paciente"],[1,"title"],[1,"form-container",3,"formGroup","submit"],["appearance","outline"],["for","pacienteForm"],["type","text","matInput","","formControlName","nombre","placeholder","Nombre completo"],["type","text","matInput","","formControlName","dni","placeholder","DNI"],["type","text","matInput","","formControlName","mail","placeholder","ejemplo@gmail.com"],["type","text","matInput","","formControlName","tel","placeholder","N\xfamero"],["type","text","matInput","","formControlName","direccion","placeholder","Calle y n\xfamero"],["appearance","outline",4,"ngIf"],["type","text","matInput","","formControlName","afiliado","placeholder","N\xfamero afiliado"],["color","accent","mat-raised-button","","type","submit",1,"submit-btn",3,"disabled"],["formControlName","idObraSocial","for","pacienteForm"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","idPlan",3,"valueChange"]],template:function(t,n){1&t&&(e.YNc(0,ee,1,0,"app-loading",0),e.YNc(1,_e,38,10,"div",1)),2&t&&(e.Q6J("ngIf",n.sendAnimation),e.xp6(1),e.Q6J("ngIf",!n.sendAnimation))},dependencies:[u.sg,u.O5,l._Y,l.Fj,l.JJ,l.JL,l.sg,l.u,p.KE,p.hX,p.TO,Z.gD,S.ey,h.lW,x.Nt,v.N],styles:[".submit-btn[_ngcontent-%COMP%]{width:100%;margin-top:15px;margin-left:10px}.form-container[_ngcontent-%COMP%]{padding-left:15px;width:90%;display:flex;flex-direction:column;gap:15px}.add-paciente[_ngcontent-%COMP%]{display:flex;width:100%;min-width:300px;max-width:600px;flex-direction:column;align-items:center;margin-left:auto;margin-right:auto}.title[_ngcontent-%COMP%]{margin-top:15px;align-self:center;font-size:1.5rem}.error[_ngcontent-%COMP%]{color:red}"]}),i})()}]}];let ge=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[_.Bz.forChild(fe),_.Bz]}),i})();var he=m(5503),xe=m(9318);let be=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[u.ez,ge,l.UX,l.u5,he.D,d.QW,C.Ps,p.lN,Z.LD,h.ot,x.c,xe.s]}),i})()}}]);